plot(1,1)
install.packages("tidyverse")
library(tidyverse)
install.packages("cancensus")
library(cancensus)
options(cancensus.api_key='CensusMapper_21ef59775d5e51cb80d5d0365a6311a2')
options(cancensus.cache_path = <your long term cache path>)
census_data <- get_census(dataset='CA21', regions=list(CSD=c("4806001","4704050","4605056")), vectors=c("v_CA21_6"), labels="detailed", geo_format=NA, level='CT')
install.packages("sf")
install.packages("units")
install.packages("units")
install.packages("sf")
install.packages("sd")
install.packages("rgdal")
install.packages("rgdal")
install.packages("rgdal")
votescor <- read.csv("Downloads/toronto_election_blog/mayor_correlations.csv")
ggcorrplot(votescor,
p.mat = votescor.sig$p,
method = "square",
lab = FALSE,
lab_size = 1,
tl.col = "black",
tl.cex = 8,
tl.srt = 90,
show.diag = FALSE,
colors = c("red2","white","blue2"),
hc.order = TRUE,
hc.method = "complete",
sig.level = 1-.001,
digits = 1,
insig = "blank",
outline.color = NA,
type = "upper") +
labs(title = "Mayoral vote share correlations",
subtitle = "Red means the candidates are *less* like each other;\nBlue means they are *more* like each other.",
caption = "Clustered by similarity.")
library(ggcorrplot)
ggcorrplot(votescor,
p.mat = votescor.sig$p,
method = "square",
lab = FALSE,
lab_size = 1,
tl.col = "black",
tl.cex = 8,
tl.srt = 90,
show.diag = FALSE,
colors = c("red2","white","blue2"),
hc.order = TRUE,
hc.method = "complete",
sig.level = 1-.001,
digits = 1,
insig = "blank",
outline.color = NA,
type = "upper") +
labs(title = "Mayoral vote share correlations",
subtitle = "Red means the candidates are *less* like each other;\nBlue means they are *more* like each other.",
caption = "Clustered by similarity.")
ggcorrplot(votescor,
method = "square",
lab = FALSE,
lab_size = 1,
tl.col = "black",
tl.cex = 8,
tl.srt = 90,
show.diag = FALSE,
colors = c("red2","white","blue2"),
hc.order = TRUE,
hc.method = "complete",
sig.level = 1-.001,
digits = 1,
insig = "blank",
outline.color = NA,
type = "upper") +
labs(title = "Mayoral vote share correlations",
subtitle = "Red means the candidates are *less* like each other;\nBlue means they are *more* like each other.",
caption = "Clustered by similarity.")
ggcorrplot(votescor,
method = "square",
lab = FALSE,
lab_size = 1,
tl.col = "black",
tl.cex = 8,
tl.srt = 90,
show.diag = FALSE,
colors = c("red2","white","blue2"),
hc.order = FALSE,
hc.method = "complete",
sig.level = 1-.001,
digits = 1,
insig = "blank",
outline.color = NA,
type = "upper") +
labs(title = "Mayoral vote share correlations",
subtitle = "Red means the candidates are *less* like each other;\nBlue means they are *more* like each other.",
caption = "Clustered by similarity.")
ggcorrplot(votescor,
method = "square",
lab = FALSE,
lab_size = 1,
tl.col = "black",
tl.cex = 8,
tl.srt = 90,
show.diag = FALSE,
colors = c("red2","white","blue2"),
hc.order = TRUE,
hc.method = "complete",
sig.level = 1-.001,
digits = 1,
insig = "blank",
outline.color = NA,
type = "upper") +
labs(title = "Mayoral vote share correlations",
subtitle = "Red means the candidates are *less* like each other;\nBlue means they are *more* like each other.",
caption = "Clustered by similarity.")
install.packages("sf")
install.packages("rgdal")
setwd("~/Dropbox/work/cltd_2022_update/CLTD/src")
df <- read_csv("ct_summary")
df <- read.csv("ct_summary")
df <- read.csv("ct_summary.csv")
library(tidyverse)
ggplot() + geom_point(aes(x = df$year, y = df$n))
ggplot() +
geom_point(aes(x = df$year, y = df$n)) +
theme_minimal()
ggplot() +
geom_point(aes(x = df$year, y = df$n)) +
xlab("Census Year") +
ylab("Number of Census Tracts") +
theme_minimal()
df <- read.csv("ct_summary.csv")
ggplot() +
geom_point(aes(x = df$year, y = df$n)) +
xlab("Census Year") +
ylab("Number of Census Tracts") +
theme_minimal()
